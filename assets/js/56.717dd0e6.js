(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{749:function(t,s,v){"use strict";v.r(s);var _=v(103),a=Object(_.a)({},(function(){var t=this,s=t.$createElement,v=t._self._c||s;return v("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[v("h2",{attrs:{id:"windows安全加固"}},[t._v("Windows安全加固 "),v("a",{staticClass:"header-anchor",attrs:{href:"#windows安全加固"}},[t._v("#")])]),t._v(" "),v("h2",{attrs:{id:"账户管理和认证授权"}},[t._v("账户管理和认证授权 "),v("a",{staticClass:"header-anchor",attrs:{href:"#账户管理和认证授权"}},[t._v("#")])]),t._v(" "),v("h3",{attrs:{id:"_1-1-账户"}},[t._v("1.1 账户 "),v("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-账户"}},[t._v("#")])]),t._v(" "),v("h4",{attrs:{id:"默认账户安全"}},[t._v("默认账户安全 "),v("a",{staticClass:"header-anchor",attrs:{href:"#默认账户安全"}},[t._v("#")])]),t._v(" "),v("blockquote",[v("ul",[v("li",[t._v("禁用Guest账户。")]),t._v(" "),v("li",[t._v("禁用或删除其他无用账户（建议先禁用账户三个月，待确认没有问题后删除。）")])])]),t._v(" "),v("p",[v("strong",[t._v("操作步骤")])]),t._v(" "),v("blockquote",[v("p",[v("strong",[t._v("本地用户和组")]),t._v(" > "),v("strong",[t._v("用户")]),t._v(" 中，双击 "),v("strong",[t._v("Guest")]),t._v(" 帐户，在属性中选中 "),v("strong",[t._v("帐户已禁用")]),t._v("，单击 "),v("strong",[t._v("确定")]),t._v("。")])]),t._v(" "),v("h4",{attrs:{id:"按照用户类别分配帐户"}},[t._v("按照用户类别分配帐户 "),v("a",{staticClass:"header-anchor",attrs:{href:"#按照用户类别分配帐户"}},[t._v("#")])]),t._v(" "),v("p",[t._v("按照用户分配帐户。根据业务要求，设定不同的用户和用户组。例如，管理员用户，数据库用户，审计用户，来宾用户等。")]),t._v(" "),v("h4",{attrs:{id:"定期检查并删除与无关帐户"}},[t._v("定期检查并删除与无关帐户 "),v("a",{staticClass:"header-anchor",attrs:{href:"#定期检查并删除与无关帐户"}},[t._v("#")])]),t._v(" "),v("p",[t._v("定期删除或锁定与设备运行、维护等与工作无关的帐户。")]),t._v(" "),v("h4",{attrs:{id:"不显示最后的用户名"}},[t._v("不显示最后的用户名 "),v("a",{staticClass:"header-anchor",attrs:{href:"#不显示最后的用户名"}},[t._v("#")])]),t._v(" "),v("p",[t._v("配置登录登出后，不显示用户名称。")]),t._v(" "),v("p",[v("strong",[t._v("操作步骤：")])]),t._v(" "),v("blockquote",[v("p",[v("strong",[t._v("gpedit.msc 打开组策略")]),t._v("，在 "),v("strong",[t._v("本地策略")]),t._v(" > "),v("strong",[t._v("安全选项")]),t._v(" 中，双击 "),v("strong",[t._v("交互式登录:不显示最后的用户名")]),t._v("，选择 "),v("strong",[t._v("已启用")]),t._v(" 并单击 "),v("strong",[t._v("确定")]),t._v("。")])]),t._v(" "),v("h3",{attrs:{id:"_1-2-口令"}},[t._v("1.2 口令 "),v("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-口令"}},[t._v("#")])]),t._v(" "),v("h4",{attrs:{id:"密码复杂度"}},[t._v("密码复杂度 "),v("a",{staticClass:"header-anchor",attrs:{href:"#密码复杂度"}},[t._v("#")])]),t._v(" "),v("blockquote",[v("p",[t._v("最短密码长度要求八个字符。")]),t._v(" "),v("p",[t._v("启用本机组策略中密码必须符合复杂性要求的策略。")])]),t._v(" "),v("p",[t._v("即密码至少包含以下四种类别的字符中的两种：")]),t._v(" "),v("div",{staticClass:"language- line-numbers-mode"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[t._v("英语大写字母 A, B, C, … Z\n英语小写字母 a, b, c, … z\n西方阿拉伯数字 0, 1, 2, … 9\n非字母数字字符，如标点符号，@, #, $, %, &, *等\n")])]),t._v(" "),v("div",{staticClass:"line-numbers-wrapper"},[v("span",{staticClass:"line-number"},[t._v("1")]),v("br"),v("span",{staticClass:"line-number"},[t._v("2")]),v("br"),v("span",{staticClass:"line-number"},[t._v("3")]),v("br"),v("span",{staticClass:"line-number"},[t._v("4")]),v("br")])]),v("p",[v("strong",[t._v("操作步骤")])]),t._v(" "),v("blockquote",[v("p",[v("strong",[t._v("gpedit.msc 打开组策略")]),t._v("，在 "),v("strong",[t._v("帐户策略")]),t._v(" > "),v("strong",[t._v("密码策略")]),t._v(" 中，确认 "),v("strong",[t._v("密码必须符合复杂性要求")]),t._v(" 策略已启用。")])]),t._v(" "),v("h4",{attrs:{id:"密码最长留存期"}},[t._v("密码最长留存期 "),v("a",{staticClass:"header-anchor",attrs:{href:"#密码最长留存期"}},[t._v("#")])]),t._v(" "),v("p",[t._v("对于采用静态口令认证技术的设备，帐户口令的留存期不应长于90天。")]),t._v(" "),v("p",[v("strong",[t._v("操作步骤")])]),t._v(" "),v("blockquote",[v("p",[t._v("在 "),v("strong",[t._v("帐户策略")]),t._v(" > "),v("strong",[t._v("密码策略")]),t._v(" 中，配置 "),v("strong",[t._v("密码最长使用期限")]),t._v(" 不大于90天。")])]),t._v(" "),v("h4",{attrs:{id:"帐户锁定策略"}},[t._v("帐户锁定策略 "),v("a",{staticClass:"header-anchor",attrs:{href:"#帐户锁定策略"}},[t._v("#")])]),t._v(" "),v("p",[t._v("对于采用静态口令认证技术的设备，应配置当用户连续认证失败次数超过10次后，锁定该用户使用的帐户。")]),t._v(" "),v("p",[v("strong",[t._v("操作步骤")])]),t._v(" "),v("blockquote",[v("p",[t._v("在 "),v("strong",[t._v("帐户策略")]),t._v(" > "),v("strong",[t._v("帐户锁定策略")]),t._v(" 中，配置 "),v("strong",[t._v("帐户锁定阈值")]),t._v(" 不大于10次。")])]),t._v(" "),v("h3",{attrs:{id:"_1-3-授权"}},[t._v("1.3 授权 "),v("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-授权"}},[t._v("#")])]),t._v(" "),v("h4",{attrs:{id:"远程关机"}},[t._v("远程关机 "),v("a",{staticClass:"header-anchor",attrs:{href:"#远程关机"}},[t._v("#")])]),t._v(" "),v("p",[t._v("在本地安全设置中，从远端系统强制关机权限只分配给Administrators组。")]),t._v(" "),v("p",[v("strong",[t._v("操作步骤")])]),t._v(" "),v("blockquote",[v("p",[t._v("在 "),v("strong",[t._v("本地策略")]),t._v(" > "),v("strong",[t._v("用户权限分配")]),t._v(" 中，配置 "),v("strong",[t._v("从远端系统强制关机")]),t._v(" 权限只分配给Administrators组。")])]),t._v(" "),v("h4",{attrs:{id:"本地关机"}},[t._v("本地关机 "),v("a",{staticClass:"header-anchor",attrs:{href:"#本地关机"}},[t._v("#")])]),t._v(" "),v("p",[t._v("在本地安全设置中关闭系统权限只分配给Administrators组。")]),t._v(" "),v("p",[v("strong",[t._v("操作步骤")])]),t._v(" "),v("blockquote",[v("p",[t._v("在 "),v("strong",[t._v("本地策略")]),t._v(" > "),v("strong",[t._v("用户权限分配")]),t._v(" 中，配置 "),v("strong",[t._v("关闭系统")]),t._v(" 权限只分配给Administrators组。")])]),t._v(" "),v("h4",{attrs:{id:"用户权限指派"}},[t._v("用户权限指派 "),v("a",{staticClass:"header-anchor",attrs:{href:"#用户权限指派"}},[t._v("#")])]),t._v(" "),v("p",[t._v("在本地安全设置中，取得文件或其它对象的所有权权限只分配给Administrators组。")]),t._v(" "),v("p",[v("strong",[t._v("操作步骤")])]),t._v(" "),v("blockquote",[v("p",[t._v("在 "),v("strong",[t._v("本地策略")]),t._v(" > "),v("strong",[t._v("用户权限分配")]),t._v(" 中，配置 "),v("strong",[t._v("取得文件或其它对象的所有权")]),t._v(" 权限只分配给Administrators组。")])]),t._v(" "),v("h4",{attrs:{id:"授权帐户登录"}},[t._v("授权帐户登录 "),v("a",{staticClass:"header-anchor",attrs:{href:"#授权帐户登录"}},[t._v("#")])]),t._v(" "),v("p",[t._v("在本地安全设置中，配置指定授权用户允许本地登录此计算机。")]),t._v(" "),v("p",[v("strong",[t._v("操作步骤")])]),t._v(" "),v("blockquote",[v("p",[t._v("在 "),v("strong",[t._v("本地策略")]),t._v(" > "),v("strong",[t._v("用户权限分配")]),t._v(" 中，配置 "),v("strong",[t._v("允许本地登录")]),t._v(" 权限给指定授权用户。")])]),t._v(" "),v("h4",{attrs:{id:"授权帐户从网络访问"}},[t._v("授权帐户从网络访问 "),v("a",{staticClass:"header-anchor",attrs:{href:"#授权帐户从网络访问"}},[t._v("#")])]),t._v(" "),v("p",[t._v("在本地安全设置中，只允许授权帐号从网络访问（包括网络共享等，但不包括终端服务）此计算机。")]),t._v(" "),v("p",[v("strong",[t._v("操作步骤")])]),t._v(" "),v("blockquote",[v("p",[t._v("在 "),v("strong",[t._v("本地策略")]),t._v(" > "),v("strong",[t._v("用户权限分配")]),t._v(" 中，配置 "),v("strong",[t._v("从网络访问此计算机")]),t._v(" 权限给指定授权用户。")])]),t._v(" "),v("h4",{attrs:{id:"多用户同时使用的安全配置"}},[t._v("多用户同时使用的安全配置 "),v("a",{staticClass:"header-anchor",attrs:{href:"#多用户同时使用的安全配置"}},[t._v("#")])]),t._v(" "),v("blockquote",[v("p",[t._v("在 "),v("strong",[t._v("本地策略")]),t._v(" > "),v("strong",[t._v("用户权限分配")]),t._v(" 中，配置 "),v("strong",[t._v("从网络访问此计算机")]),t._v(" 权限给指定授权用户。")])]),t._v(" "),v("h4",{attrs:{id:"限制远程登录空闲断开时间"}},[t._v("限制远程登录空闲断开时间 "),v("a",{staticClass:"header-anchor",attrs:{href:"#限制远程登录空闲断开时间"}},[t._v("#")])]),t._v(" "),v("p",[t._v("对于远程登录的帐户，设置不活动超过时间15分钟自动断开连接。")]),t._v(" "),v("p",[v("strong",[t._v("操作步骤")])]),t._v(" "),v("blockquote",[v("p",[t._v("在 "),v("strong",[t._v("本地策略")]),t._v(" > "),v("strong",[t._v("安全选项")]),t._v(" 中，设置 "),v("strong",[t._v("Microsoft网络服务器：暂停会话前所需的空闲时间数量")]),t._v(" 属性为15分钟。")])]),t._v(" "),v("h4",{attrs:{id:"设置屏幕保护密码和开启时间"}},[t._v("设置屏幕保护密码和开启时间 "),v("a",{staticClass:"header-anchor",attrs:{href:"#设置屏幕保护密码和开启时间"}},[t._v("#")])]),t._v(" "),v("p",[t._v("设置从屏幕保护恢复时需要输入密码，并将屏幕保护自动开启时间设定为五分钟。")]),t._v(" "),v("p",[v("strong",[t._v("操作步骤")])]),t._v(" "),v("blockquote",[v("p",[t._v("启用屏幕保护程序，设置等待时间为 "),v("strong",[t._v("5分钟")]),t._v("，并启用 "),v("strong",[t._v("在恢复时使用密码保护")])])]),t._v(" "),v("h2",{attrs:{id:"日志配置操作"}},[t._v("日志配置操作 "),v("a",{staticClass:"header-anchor",attrs:{href:"#日志配置操作"}},[t._v("#")])]),t._v(" "),v("h3",{attrs:{id:"_2-1-日志配置"}},[t._v("2.1 日志配置 "),v("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-日志配置"}},[t._v("#")])]),t._v(" "),v("h4",{attrs:{id:"审核登录"}},[t._v("审核登录 "),v("a",{staticClass:"header-anchor",attrs:{href:"#审核登录"}},[t._v("#")])]),t._v(" "),v("p",[t._v("设备应配置日志功能，对用户登录进行记录。")]),t._v(" "),v("p",[t._v("记录内容包括用户登录使用的帐户、登录是否成功、登录时间、以及远程登录时、及用户使用的IP地址。")]),t._v(" "),v("p",[v("strong",[t._v("操作步骤")])]),t._v(" "),v("blockquote",[v("p",[t._v("在 "),v("strong",[t._v("本地策略")]),t._v(" > "),v("strong",[t._v("审核策略")]),t._v(" 中，设置 "),v("strong",[t._v("审核登录事件")]),t._v("。")])]),t._v(" "),v("blockquote",[v("p",[t._v("eventvwr.msc > 打开"),v("strong",[t._v("事件查看器")]),t._v(" > "),v("strong",[t._v("windows日志")]),t._v(" > "),v("strong",[t._v("安全")]),t._v(" > 即可查看用户的登录和注销以及账户名等信息")])]),t._v(" "),v("h4",{attrs:{id:"审核策略"}},[t._v("审核策略 "),v("a",{staticClass:"header-anchor",attrs:{href:"#审核策略"}},[t._v("#")])]),t._v(" "),v("p",[t._v("启用本地安全策略中对Windows系统的审核策略更改，成功和失败操作都需要审核。")]),t._v(" "),v("p",[v("strong",[t._v("操作步骤")])]),t._v(" "),v("blockquote",[v("p",[t._v("在 "),v("strong",[t._v("本地策略")]),t._v(" > "),v("strong",[t._v("审核策略")]),t._v(" 中，设置 "),v("strong",[t._v("审核策略更改")]),t._v("。")])]),t._v(" "),v("h4",{attrs:{id:"审核对象访问"}},[t._v("审核对象访问 "),v("a",{staticClass:"header-anchor",attrs:{href:"#审核对象访问"}},[t._v("#")])]),t._v(" "),v("p",[t._v("启用本地安全策略中对Windows系统的审核对象访问，成功和失败操作都需要审核。")]),t._v(" "),v("p",[v("strong",[t._v("操作步骤")])]),t._v(" "),v("blockquote",[v("p",[t._v("在 "),v("strong",[t._v("本地策略")]),t._v(" > "),v("strong",[t._v("审核策略")]),t._v(" 中，设置 "),v("strong",[t._v("审核对象访问")]),t._v("。")])]),t._v(" "),v("h4",{attrs:{id:"审核事件目录服务访问"}},[t._v("审核事件目录服务访问 "),v("a",{staticClass:"header-anchor",attrs:{href:"#审核事件目录服务访问"}},[t._v("#")])]),t._v(" "),v("p",[t._v("启用本地安全策略中对Windows系统的审核目录服务访问，仅需要审核失败操作。")]),t._v(" "),v("p",[v("strong",[t._v("操作步骤")])]),t._v(" "),v("blockquote",[v("p",[t._v("在 "),v("strong",[t._v("本地策略")]),t._v(" > "),v("strong",[t._v("审核策略")]),t._v(" 中，设置 "),v("strong",[t._v("审核目录服务器访问")]),t._v("。")])]),t._v(" "),v("h4",{attrs:{id:"审核特权使用"}},[t._v("审核特权使用 "),v("a",{staticClass:"header-anchor",attrs:{href:"#审核特权使用"}},[t._v("#")])]),t._v(" "),v("p",[t._v("启用本地安全策略中对Windows系统的审核特权使用，成功和失败操作都需要审核。")]),t._v(" "),v("p",[v("strong",[t._v("操作步骤")])]),t._v(" "),v("blockquote",[v("p",[t._v("在 "),v("strong",[t._v("本地策略")]),t._v(" > "),v("strong",[t._v("审核策略")]),t._v(" 中，设置 "),v("strong",[t._v("审核特权使用")]),t._v("。")])]),t._v(" "),v("h4",{attrs:{id:"审核系统事件"}},[t._v("审核系统事件 "),v("a",{staticClass:"header-anchor",attrs:{href:"#审核系统事件"}},[t._v("#")])]),t._v(" "),v("p",[t._v("启用本地安全策略中对Windows系统的审核系统事件，成功和失败操作都需要审核。")]),t._v(" "),v("p",[v("strong",[t._v("操作步骤")])]),t._v(" "),v("blockquote",[v("p",[t._v("在 "),v("strong",[t._v("本地策略")]),t._v(" > "),v("strong",[t._v("审核策略")]),t._v(" 中，设置 "),v("strong",[t._v("审核系统事件")]),t._v("。")])]),t._v(" "),v("h4",{attrs:{id:"审核帐户管理"}},[t._v("审核帐户管理 "),v("a",{staticClass:"header-anchor",attrs:{href:"#审核帐户管理"}},[t._v("#")])]),t._v(" "),v("p",[t._v("启用本地安全策略中对Windows系统的审核帐户管理，成功和失败操作都要审核。")]),t._v(" "),v("p",[v("strong",[t._v("操作步骤")])]),t._v(" "),v("blockquote",[v("p",[t._v("在 "),v("strong",[t._v("本地策略")]),t._v(" > "),v("strong",[t._v("审核策略")]),t._v(" 中，设置 "),v("strong",[t._v("审核帐户管理")]),t._v("。")])]),t._v(" "),v("h4",{attrs:{id:"审核过程追踪"}},[t._v("审核过程追踪 "),v("a",{staticClass:"header-anchor",attrs:{href:"#审核过程追踪"}},[t._v("#")])]),t._v(" "),v("p",[t._v("启用本地安全策略中对Windows系统的审核进程追踪，仅失败操作需要审核。")]),t._v(" "),v("p",[v("strong",[t._v("操作步骤")])]),t._v(" "),v("blockquote",[v("p",[v("strong",[t._v("gpedit.msc 打开组策略")]),t._v("> "),v("strong",[t._v("管理模板")]),t._v(" > "),v("strong",[t._v("Windows组件")]),t._v(" > "),v("strong",[t._v("远程桌面服务")]),t._v(" > "),v("strong",[t._v("远程桌面会话主机")]),t._v(" > "),v("strong",[t._v("连接")])]),t._v(" "),v("p",[t._v("禁用 "),v("strong",[t._v('" 将远程桌面服务用户限制到单独的远程桌面服务会话 "')]),t._v(" > 启用并设置  "),v("strong",[t._v('"限制连接的数量"')])])]),t._v(" "),v("h4",{attrs:{id:"日志文件大小"}},[t._v("日志文件大小 "),v("a",{staticClass:"header-anchor",attrs:{href:"#日志文件大小"}},[t._v("#")])]),t._v(" "),v("p",[t._v("设置应用日志文件大小至少为 8192 KB，可根据磁盘空间配置日志文件大小，记录的日志越多越好。")]),t._v(" "),v("p",[t._v("并设置当达到最大的日志尺寸时，按需要轮询记录日志。")]),t._v(" "),v("p",[v("strong",[t._v("操作步骤")])]),t._v(" "),v("blockquote",[v("p",[v("strong",[t._v("eventvwr.msc")]),t._v("打开事件查看器，配置应用日志、系统日志、安全日志属性中的日志大小，以及设置当达到最大的日志尺寸时的相应策略。")])]),t._v(" "),v("h2",{attrs:{id:"安全选项"}},[t._v("安全选项 "),v("a",{staticClass:"header-anchor",attrs:{href:"#安全选项"}},[t._v("#")])]),t._v(" "),v("h3",{attrs:{id:"_6-1-禁用未登录前关机"}},[t._v("6.1 禁用未登录前关机 "),v("a",{staticClass:"header-anchor",attrs:{href:"#_6-1-禁用未登录前关机"}},[t._v("#")])]),t._v(" "),v("p",[t._v("服务器默认是禁止在未登录系统前关机的。")]),t._v(" "),v("p",[t._v("如果启用此设置，服务器安全性将会大大降低，给远程连接的黑客造成可乘之机，强烈建议禁用此功能。")]),t._v(" "),v("p",[v("strong",[t._v("操作步骤")])]),t._v(" "),v("blockquote",[v("p",[t._v("在 "),v("strong",[t._v("本地策略")]),t._v(" > "),v("strong",[t._v("安全选项")]),t._v(" 中，禁用 "),v("strong",[t._v("关机: 允许系统在未登录前关机")]),t._v(" 策略")])]),t._v(" "),v("h3",{attrs:{id:"_6-2-启用安全选项"}},[t._v("6.2 启用安全选项 "),v("a",{staticClass:"header-anchor",attrs:{href:"#_6-2-启用安全选项"}},[t._v("#")])]),t._v(" "),v("p",[v("strong",[t._v("操作步骤")])]),t._v(" "),v("blockquote",[v("p",[t._v("在 "),v("strong",[t._v("本地策略")]),t._v(" > "),v("strong",[t._v("安全选项")]),t._v(" 中，进行如下设置：")])]),t._v(" "),v("p",[v("img",{attrs:{src:"/images/wsecxx.png",alt:""}})]),t._v(" "),v("h3",{attrs:{id:"_6-3其他安全配置"}},[t._v("6.3其他安全配置 "),v("a",{staticClass:"header-anchor",attrs:{href:"#_6-3其他安全配置"}},[t._v("#")])]),t._v(" "),v("h4",{attrs:{id:"安装杀毒软件"}},[t._v("安装杀毒软件 "),v("a",{staticClass:"header-anchor",attrs:{href:"#安装杀毒软件"}},[t._v("#")])]),t._v(" "),v("h4",{attrs:{id:"安装最新的补丁更新"}},[t._v("安装最新的补丁更新 "),v("a",{staticClass:"header-anchor",attrs:{href:"#安装最新的补丁更新"}},[t._v("#")])]),t._v(" "),v("h4",{attrs:{id:"禁用不必要的服务"}},[t._v("禁用不必要的服务 "),v("a",{staticClass:"header-anchor",attrs:{href:"#禁用不必要的服务"}},[t._v("#")])]),t._v(" "),v("p",[v("strong",[t._v("禁用TCP/IP上的NetBIOS")])]),t._v(" "),v("p",[t._v("禁用TCP/IP上的NetBIOS协议，可以关闭监听的 UDP 137（netbios-ns）、UDP 138（netbios-dgm）以及 TCP 139（netbios-ssn）端口。")]),t._v(" "),v("p",[v("strong",[t._v("操作步骤")])]),t._v(" "),v("blockquote",[v("ol",[v("li",[t._v("在 "),v("strong",[t._v("计算机管理")]),t._v(" > "),v("strong",[t._v("服务和应用程序")]),t._v(" > "),v("strong",[t._v("服务")]),t._v(" 中禁用 "),v("strong",[t._v("TCP/IP NetBIOS Helper")]),t._v(" 服务。")]),t._v(" "),v("li",[t._v("在网络连接属性中，双击 "),v("strong",[t._v("Internet协议版本4（TCP/IPv4）")]),t._v("，单击 "),v("strong",[t._v("高级")]),t._v("。"),v("strong",[t._v("禁用NetBIOS")]),t._v("和"),v("strong",[t._v("LMHOST查找")])])])]),t._v(" "),v("p",[v("a",{attrs:{href:"https://docs.microsoft.com/zh-cn/windows-server/storage/file-server/troubleshoot/detect-enable-and-disable-smbv1-v2-v3",target:"_blank",rel:"noopener noreferrer"}},[t._v("如何在 Windows 中检测、启用和禁用 SMBv1、SMBv2 和 SMBv3"),v("OutboundLink")],1)]),t._v(" "),v("h4",{attrs:{id:"关闭默认共享"}},[t._v("关闭默认共享 "),v("a",{staticClass:"header-anchor",attrs:{href:"#关闭默认共享"}},[t._v("#")])]),t._v(" "),v("p",[t._v("非域环境中，关闭Windows硬盘默认共享，例如C$，D$。")]),t._v(" "),v("p",[v("strong",[t._v("操作步骤")])]),t._v(" "),v("blockquote",[v("p",[t._v("打开 "),v("strong",[t._v("注册表编辑器")]),t._v("，根据推荐值修改注册表键值。")]),t._v(" "),v("p",[v("strong",[t._v("注意")]),t._v("： Windows Server 2012版本已默认关闭Windows硬盘默认共享，且没有该注册表键值。")])]),t._v(" "),v("div",{staticClass:"language-cmd line-numbers-mode"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[t._v("HKLM\\System\\CurrentControlSet\\Services\\LanmanServer\\Parameters\\AutoShareServer\n#推荐值： 0\n")])]),t._v(" "),v("div",{staticClass:"line-numbers-wrapper"},[v("span",{staticClass:"line-number"},[t._v("1")]),v("br"),v("span",{staticClass:"line-number"},[t._v("2")]),v("br")])]),v("h4",{attrs:{id:"共享文件夹授权访问"}},[t._v("共享文件夹授权访问 "),v("a",{staticClass:"header-anchor",attrs:{href:"#共享文件夹授权访问"}},[t._v("#")])]),t._v(" "),v("p",[t._v("每个共享文件夹的共享权限，只允许授权的帐户拥有共享此文件夹的权限。")]),t._v(" "),v("p",[v("strong",[t._v("操作步骤")])]),t._v(" "),v("blockquote",[v("p",[t._v("每个共享文件夹的共享权限仅限于业务需要，不要设置成为 "),v("strong",[t._v("Everyone")]),t._v("。")]),t._v(" "),v("p",[t._v("打开 "),v("strong",[t._v("控制面板")]),t._v(" > "),v("strong",[t._v("管理工具")]),t._v(" > "),v("strong",[t._v("计算机管理")]),t._v("，在 "),v("strong",[t._v("共享文件夹")]),t._v(" 中，查看每个共享文件夹的共享权限。")])]),t._v(" "),v("h1",{attrs:{id:"文件系统安全"}},[t._v("文件系统安全 "),v("a",{staticClass:"header-anchor",attrs:{href:"#文件系统安全"}},[t._v("#")])]),t._v(" "),v("blockquote",[v("p",[t._v("对于 NTFS 磁盘分区上的每一个文件和文件夹，NTFS 都存储一个远程访问控制列表（ACL，Access Control Lists）")]),t._v(" "),v("p",[t._v("ACL 中包含有那些被授权访问该文件或者文件夹的所有用户账号、组和计算机，还包含他们被授予的访问类型。")])]),t._v(" "),v("blockquote",[v("p",[v("strong",[t._v("注意：")]),t._v(" FAT 是U盘上的主流文件系统")])]),t._v(" "),v("h2",{attrs:{id:"ntfs-文件权限种类"}},[t._v("NTFS 文件权限种类 "),v("a",{staticClass:"header-anchor",attrs:{href:"#ntfs-文件权限种类"}},[t._v("#")])]),t._v(" "),v("h2",{attrs:{id:"ntfs-权限设置"}},[t._v("NTFS 权限设置 "),v("a",{staticClass:"header-anchor",attrs:{href:"#ntfs-权限设置"}},[t._v("#")])]),t._v(" "),v("h4",{attrs:{id:"通过-acl-控制列表-设置目录或者文件的用户访问权限"}},[v("strong",[t._v("通过 ACL 控制列表，设置目录或者文件的用户访问权限")]),t._v(" "),v("a",{staticClass:"header-anchor",attrs:{href:"#通过-acl-控制列表-设置目录或者文件的用户访问权限"}},[t._v("#")])]),t._v(" "),v("blockquote",[v("p",[t._v("Windows系统中的ACL(Access Control List)，用来表示用户（组）权限的列表。")]),t._v(" "),v("p",[t._v("在渗透测试中，理解并运用ACL，尤其在后门利用(提权)方面，可供发挥的空间很大。")]),t._v(" "),v("p",[t._v("而站在防御的角度，如果系统被攻破，找到并清除攻击者留下的ACL后门，同样需要对ACL有一定的了解。")])]),t._v(" "),v("h4",{attrs:{id:"命令行下修改目录或者文件的访问权限的方法"}},[v("strong",[t._v("命令行下修改目录或者文件的访问权限的方法")]),t._v(" "),v("a",{staticClass:"header-anchor",attrs:{href:"#命令行下修改目录或者文件的访问权限的方法"}},[t._v("#")])]),t._v(" "),v("p",[v("strong",[t._v("一系列简单的权利：")])]),t._v(" "),v("blockquote",[v("ul",[v("li",[v("strong",[t._v("F")]),t._v("（完全访问）")]),t._v(" "),v("li",[v("strong",[t._v("M")]),t._v("（修改访问权限）")]),t._v(" "),v("li",[v("strong",[t._v("RX")]),t._v("（读取和执行访问）")]),t._v(" "),v("li",[v("strong",[t._v("R")]),t._v("（只读访问）")]),t._v(" "),v("li",[v("strong",[t._v("W")]),t._v("（只写访问）")])])]),t._v(" "),v("p",[v("strong",[t._v("继承权：")])]),t._v(" "),v("blockquote",[v("ul",[v("li",[v("strong",[t._v("（OI）")]),t._v("：对象继承")]),t._v(" "),v("li",[v("strong",[t._v("（CI）")]),t._v("：容器继承")]),t._v(" "),v("li",[v("strong",[t._v("（IO）")]),t._v("：仅继承")]),t._v(" "),v("li",[v("strong",[t._v("（NP）")]),t._v("：不传播继承")]),t._v(" "),v("li",[v("strong",[t._v("（I）")]),t._v("：从父容器继承的权限")])])]),t._v(" "),v("h4",{attrs:{id:"查看指定文件的acl"}},[v("strong",[t._v("查看")]),t._v("指定文件的ACL "),v("a",{staticClass:"header-anchor",attrs:{href:"#查看指定文件的acl"}},[t._v("#")])]),t._v(" "),v("div",{staticClass:"language-bash line-numbers-mode"},[v("pre",{pre:!0,attrs:{class:"language-bash"}},[v("code",[t._v("icacls test"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("test.txt\n")])]),t._v(" "),v("div",{staticClass:"line-numbers-wrapper"},[v("span",{staticClass:"line-number"},[t._v("1")]),v("br")])]),v("h4",{attrs:{id:"备份指定文件-包括当前目录及其子目录中的文件-的acl"}},[v("strong",[t._v("备份")]),t._v("指定文件(包括当前目录及其子目录中的文件)的ACL "),v("a",{staticClass:"header-anchor",attrs:{href:"#备份指定文件-包括当前目录及其子目录中的文件-的acl"}},[t._v("#")])]),t._v(" "),v("div",{staticClass:"language-bash line-numbers-mode"},[v("pre",{pre:!0,attrs:{class:"language-bash"}},[v("code",[t._v("icacls test"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("test.txt /save AclFile /t\n")])]),t._v(" "),v("div",{staticClass:"line-numbers-wrapper"},[v("span",{staticClass:"line-number"},[t._v("1")]),v("br")])]),v("h4",{attrs:{id:"还原指定文件-包括当前目录及其子目录中的文件-的acl"}},[v("strong",[t._v("还原")]),t._v("指定文件(包括当前目录及其子目录中的文件)的ACL "),v("a",{staticClass:"header-anchor",attrs:{href:"#还原指定文件-包括当前目录及其子目录中的文件-的acl"}},[t._v("#")])]),t._v(" "),v("div",{staticClass:"language-bash line-numbers-mode"},[v("pre",{pre:!0,attrs:{class:"language-bash"}},[v("code",[t._v("icacls test"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v(" /restore AclFile /t\n"),v("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#还原时，路径需要设置为上级目录")]),t._v("\n")])]),t._v(" "),v("div",{staticClass:"line-numbers-wrapper"},[v("span",{staticClass:"line-number"},[t._v("1")]),v("br"),v("span",{staticClass:"line-number"},[t._v("2")]),v("br")])]),v("h4",{attrs:{id:"添加用户test1对指定文件-包括当前目录及其子目录中的文件-的完全访问权限"}},[v("strong",[t._v("添加")]),t._v("用户test1对指定文件(包括当前目录及其子目录中的文件)的完全访问权限 "),v("a",{staticClass:"header-anchor",attrs:{href:"#添加用户test1对指定文件-包括当前目录及其子目录中的文件-的完全访问权限"}},[t._v("#")])]),t._v(" "),v("div",{staticClass:"language-bash line-numbers-mode"},[v("pre",{pre:!0,attrs:{class:"language-bash"}},[v("code",[t._v("icacls test"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("test.txt /grant test1:"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("OI"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("CI"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("F"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" /t\n")])]),t._v(" "),v("div",{staticClass:"line-numbers-wrapper"},[v("span",{staticClass:"line-number"},[t._v("1")]),v("br")])]),v("h4",{attrs:{id:"移除用户test1对指定文件-包括当前目录及其子目录中的文件-的完全访问权限"}},[v("strong",[t._v("移除")]),t._v("用户test1对指定文件(包括当前目录及其子目录中的文件)的完全访问权限 "),v("a",{staticClass:"header-anchor",attrs:{href:"#移除用户test1对指定文件-包括当前目录及其子目录中的文件-的完全访问权限"}},[t._v("#")])]),t._v(" "),v("div",{staticClass:"language-bash line-numbers-mode"},[v("pre",{pre:!0,attrs:{class:"language-bash"}},[v("code",[t._v("icacls test"),v("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("test.txt /remove test1 /t\n")])]),t._v(" "),v("div",{staticClass:"line-numbers-wrapper"},[v("span",{staticClass:"line-number"},[t._v("1")]),v("br")])]),v("p",[v("a",{attrs:{href:"https://3gstudent.github.io/3gstudent.github.io/%E6%B8%97%E9%80%8F%E6%8A%80%E5%B7%A7-Windows%E4%B8%8B%E7%9A%84Access-Control-List/",target:"_blank",rel:"noopener noreferrer"}},[t._v("ACL在渗透测试中的利用"),v("OutboundLink")],1)])])}),[],!1,null,null,null);s.default=a.exports}}]);
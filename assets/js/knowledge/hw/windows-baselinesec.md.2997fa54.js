(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[29],{171:function(e,t,a){"use strict";a.r(t),function(e){a.d(t,"default",(function(){return E}));var b,n=a(95),r=(a(139),a(0),a(96));function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(e[b]=a[b])}return e}).apply(this,arguments)}function l(e,t){if(null==e)return{};var a,b,n=function(e,t){if(null==e)return{};var a,b,n={},r=Object.keys(e);for(b=0;b<r.length;b++)a=r[b],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(b=0;b<r.length;b++)a=r[b],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}(b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&b(e);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var p,s,o=function(e){return function(t){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),Object(r.b)("div",t)}},m={},O="wrapper";function E(e){var t=e.components,a=l(e,["components"]);return Object(r.b)(O,c({},m,a,{components:t,mdxType:"MDXLayout"}),Object(r.b)("h2",{className:"__internal",id:"账户管理和认证授权"},"账户管理和认证授权",Object(r.b)("a",c({parentName:"h2"},{href:"#%E8%B4%A6%E6%88%B7%E7%AE%A1%E7%90%86%E5%92%8C%E8%AE%A4%E8%AF%81%E6%8E%88%E6%9D%83","aria-hidden":!0,className:"anchor"}),"#")),Object(r.b)("h3",{className:"__internal",id:"11-账户"},"1.1 账户",Object(r.b)("a",c({parentName:"h3"},{href:"#11-%E8%B4%A6%E6%88%B7","aria-hidden":!0,className:"anchor"}),"#")),Object(r.b)("h4",{className:"__internal",id:"默认账户安全"},"默认账户安全",Object(r.b)("a",c({parentName:"h4"},{href:"#%E9%BB%98%E8%AE%A4%E8%B4%A6%E6%88%B7%E5%AE%89%E5%85%A8","aria-hidden":!0,className:"anchor"}),"#")),Object(r.b)("blockquote",null,Object(r.b)("ul",{parentName:"blockquote"},Object(r.b)("li",c({parentName:"ul"},{className:"__internal"}),"禁用Guest账户。"),Object(r.b)("li",c({parentName:"ul"},{className:"__internal"}),"禁用或删除其他无用账户（建议先禁用账户三个月，待确认没有问题后删除。）"))),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"操作步骤")),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},Object(r.b)("strong",{parentName:"p"},"本地用户和组")," > ",Object(r.b)("strong",{parentName:"p"},"用户")," 中，双击 ",Object(r.b)("strong",{parentName:"p"},"Guest")," 帐户，在属性中选中 ",Object(r.b)("strong",{parentName:"p"},"帐户已禁用"),"，单击 ",Object(r.b)("strong",{parentName:"p"},"确定"),"。")),Object(r.b)("h4",{className:"__internal",id:"按照用户类别分配帐户"},"按照用户类别分配帐户",Object(r.b)("a",c({parentName:"h4"},{href:"#%E6%8C%89%E7%85%A7%E7%94%A8%E6%88%B7%E7%B1%BB%E5%88%AB%E5%88%86%E9%85%8D%E5%B8%90%E6%88%B7","aria-hidden":!0,className:"anchor"}),"#")),Object(r.b)("p",null,"按照用户分配帐户。根据业务要求，设定不同的用户和用户组。例如，管理员用户，数据库用户，审计用户，来宾用户等。"),Object(r.b)("h4",{className:"__internal",id:"定期检查并删除与无关帐户"},"定期检查并删除与无关帐户",Object(r.b)("a",c({parentName:"h4"},{href:"#%E5%AE%9A%E6%9C%9F%E6%A3%80%E6%9F%A5%E5%B9%B6%E5%88%A0%E9%99%A4%E4%B8%8E%E6%97%A0%E5%85%B3%E5%B8%90%E6%88%B7","aria-hidden":!0,className:"anchor"}),"#")),Object(r.b)("p",null,"定期删除或锁定与设备运行、维护等与工作无关的帐户。"),Object(r.b)("h4",{className:"__internal",id:"不显示最后的用户名"},"不显示最后的用户名",Object(r.b)("a",c({parentName:"h4"},{href:"#%E4%B8%8D%E6%98%BE%E7%A4%BA%E6%9C%80%E5%90%8E%E7%9A%84%E7%94%A8%E6%88%B7%E5%90%8D","aria-hidden":!0,className:"anchor"}),"#")),Object(r.b)("p",null,"配置登录登出后，不显示用户名称。"),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"操作步骤：")),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},Object(r.b)("strong",{parentName:"p"},"gpedit.msc 打开组策略"),"，在 ",Object(r.b)("strong",{parentName:"p"},"本地策略")," > ",Object(r.b)("strong",{parentName:"p"},"安全选项")," 中，双击 ",Object(r.b)("strong",{parentName:"p"},"交互式登录:不显示最后的用户名"),"，选择 ",Object(r.b)("strong",{parentName:"p"},"已启用")," 并单击 ",Object(r.b)("strong",{parentName:"p"},"确定"),"。")),Object(r.b)("h3",{className:"__internal",id:"12-口令"},"1.2 口令",Object(r.b)("a",c({parentName:"h3"},{href:"#12-%E5%8F%A3%E4%BB%A4","aria-hidden":!0,className:"anchor"}),"#")),Object(r.b)("h4",{className:"__internal",id:"密码复杂度"},"密码复杂度",Object(r.b)("a",c({parentName:"h4"},{href:"#%E5%AF%86%E7%A0%81%E5%A4%8D%E6%9D%82%E5%BA%A6","aria-hidden":!0,className:"anchor"}),"#")),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"最短密码长度要求八个字符。"),Object(r.b)("p",{parentName:"blockquote"},"启用本机组策略中密码必须符合复杂性要求的策略。")),Object(r.b)("p",null,"即密码至少包含以下四种类别的字符中的两种："),Object(r.b)("div",{className:"rcpress-highlight","data-language":"text"},Object(r.b)("pre",c({parentName:"div"},{className:"language-text"}),Object(r.b)("code",c({parentName:"pre"},{className:"language-text"}),"英语大写字母 A, B, C, … Z\n英语小写字母 a, b, c, … z\n西方阿拉伯数字 0, 1, 2, … 9\n非字母数字字符，如标点符号，@, #, $, %, &, *等"))),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"操作步骤")),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},Object(r.b)("strong",{parentName:"p"},"gpedit.msc 打开组策略"),"，在 ",Object(r.b)("strong",{parentName:"p"},"帐户策略")," > ",Object(r.b)("strong",{parentName:"p"},"密码策略")," 中，确认 ",Object(r.b)("strong",{parentName:"p"},"密码必须符合复杂性要求")," 策略已启用。")),Object(r.b)("h4",{className:"__internal",id:"密码最长留存期"},"密码最长留存期",Object(r.b)("a",c({parentName:"h4"},{href:"#%E5%AF%86%E7%A0%81%E6%9C%80%E9%95%BF%E7%95%99%E5%AD%98%E6%9C%9F","aria-hidden":!0,className:"anchor"}),"#")),Object(r.b)("p",null,"对于采用静态口令认证技术的设备，帐户口令的留存期不应长于90天。"),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"操作步骤")),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"在 ",Object(r.b)("strong",{parentName:"p"},"帐户策略")," > ",Object(r.b)("strong",{parentName:"p"},"密码策略")," 中，配置 ",Object(r.b)("strong",{parentName:"p"},"密码最长使用期限")," 不大于90天。")),Object(r.b)("h4",{className:"__internal",id:"帐户锁定策略"},"帐户锁定策略",Object(r.b)("a",c({parentName:"h4"},{href:"#%E5%B8%90%E6%88%B7%E9%94%81%E5%AE%9A%E7%AD%96%E7%95%A5","aria-hidden":!0,className:"anchor"}),"#")),Object(r.b)("p",null,"对于采用静态口令认证技术的设备，应配置当用户连续认证失败次数超过10次后，锁定该用户使用的帐户。"),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"操作步骤")),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"在 ",Object(r.b)("strong",{parentName:"p"},"帐户策略")," > ",Object(r.b)("strong",{parentName:"p"},"帐户锁定策略")," 中，配置 ",Object(r.b)("strong",{parentName:"p"},"帐户锁定阈值")," 不大于10次。")),Object(r.b)("h3",{className:"__internal",id:"13-授权"},"1.3 授权",Object(r.b)("a",c({parentName:"h3"},{href:"#13-%E6%8E%88%E6%9D%83","aria-hidden":!0,className:"anchor"}),"#")),Object(r.b)("h4",{className:"__internal",id:"远程关机"},"远程关机",Object(r.b)("a",c({parentName:"h4"},{href:"#%E8%BF%9C%E7%A8%8B%E5%85%B3%E6%9C%BA","aria-hidden":!0,className:"anchor"}),"#")),Object(r.b)("p",null,"在本地安全设置中，从远端系统强制关机权限只分配给Administrators组。"),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"操作步骤")),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"在 ",Object(r.b)("strong",{parentName:"p"},"本地策略")," > ",Object(r.b)("strong",{parentName:"p"},"用户权限分配")," 中，配置 ",Object(r.b)("strong",{parentName:"p"},"从远端系统强制关机")," 权限只分配给Administrators组。")),Object(r.b)("h4",{className:"__internal",id:"本地关机"},"本地关机",Object(r.b)("a",c({parentName:"h4"},{href:"#%E6%9C%AC%E5%9C%B0%E5%85%B3%E6%9C%BA","aria-hidden":!0,className:"anchor"}),"#")),Object(r.b)("p",null,"在本地安全设置中关闭系统权限只分配给Administrators组。"),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"操作步骤")),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"在 ",Object(r.b)("strong",{parentName:"p"},"本地策略")," > ",Object(r.b)("strong",{parentName:"p"},"用户权限分配")," 中，配置 ",Object(r.b)("strong",{parentName:"p"},"关闭系统")," 权限只分配给Administrators组。")),Object(r.b)("h4",{className:"__internal",id:"用户权限指派"},"用户权限指派",Object(r.b)("a",c({parentName:"h4"},{href:"#%E7%94%A8%E6%88%B7%E6%9D%83%E9%99%90%E6%8C%87%E6%B4%BE","aria-hidden":!0,className:"anchor"}),"#")),Object(r.b)("p",null,"在本地安全设置中，取得文件或其它对象的所有权权限只分配给Administrators组。"),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"操作步骤")),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"在 ",Object(r.b)("strong",{parentName:"p"},"本地策略")," > ",Object(r.b)("strong",{parentName:"p"},"用户权限分配")," 中，配置 ",Object(r.b)("strong",{parentName:"p"},"取得文件或其它对象的所有权")," 权限只分配给Administrators组。")),Object(r.b)("h4",{className:"__internal",id:"授权帐户登录"},"授权帐户登录",Object(r.b)("a",c({parentName:"h4"},{href:"#%E6%8E%88%E6%9D%83%E5%B8%90%E6%88%B7%E7%99%BB%E5%BD%95","aria-hidden":!0,className:"anchor"}),"#")),Object(r.b)("p",null,"在本地安全设置中，配置指定授权用户允许本地登录此计算机。"),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"操作步骤")),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"在 ",Object(r.b)("strong",{parentName:"p"},"本地策略")," > ",Object(r.b)("strong",{parentName:"p"},"用户权限分配")," 中，配置 ",Object(r.b)("strong",{parentName:"p"},"允许本地登录")," 权限给指定授权用户。")),Object(r.b)("h4",{className:"__internal",id:"授权帐户从网络访问"},"授权帐户从网络访问",Object(r.b)("a",c({parentName:"h4"},{href:"#%E6%8E%88%E6%9D%83%E5%B8%90%E6%88%B7%E4%BB%8E%E7%BD%91%E7%BB%9C%E8%AE%BF%E9%97%AE","aria-hidden":!0,className:"anchor"}),"#")),Object(r.b)("p",null,"在本地安全设置中，只允许授权帐号从网络访问（包括网络共享等，但不包括终端服务）此计算机。"),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"操作步骤")),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"在 ",Object(r.b)("strong",{parentName:"p"},"本地策略")," > ",Object(r.b)("strong",{parentName:"p"},"用户权限分配")," 中，配置 ",Object(r.b)("strong",{parentName:"p"},"从网络访问此计算机")," 权限给指定授权用户。")),Object(r.b)("h4",{className:"__internal",id:"多用户同时使用的安全配置"},"多用户同时使用的安全配置",Object(r.b)("a",c({parentName:"h4"},{href:"#%E5%A4%9A%E7%94%A8%E6%88%B7%E5%90%8C%E6%97%B6%E4%BD%BF%E7%94%A8%E7%9A%84%E5%AE%89%E5%85%A8%E9%85%8D%E7%BD%AE","aria-hidden":!0,className:"anchor"}),"#")),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"在 ",Object(r.b)("strong",{parentName:"p"},"本地策略")," > ",Object(r.b)("strong",{parentName:"p"},"用户权限分配")," 中，配置 ",Object(r.b)("strong",{parentName:"p"},"从网络访问此计算机")," 权限给指定授权用户。")),Object(r.b)("h4",{className:"__internal",id:"限制远程登录空闲断开时间"},"限制远程登录空闲断开时间",Object(r.b)("a",c({parentName:"h4"},{href:"#%E9%99%90%E5%88%B6%E8%BF%9C%E7%A8%8B%E7%99%BB%E5%BD%95%E7%A9%BA%E9%97%B2%E6%96%AD%E5%BC%80%E6%97%B6%E9%97%B4","aria-hidden":!0,className:"anchor"}),"#")),Object(r.b)("p",null,"对于远程登录的帐户，设置不活动超过时间15分钟自动断开连接。"),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"操作步骤")),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"在 ",Object(r.b)("strong",{parentName:"p"},"本地策略")," > ",Object(r.b)("strong",{parentName:"p"},"安全选项")," 中，设置 ",Object(r.b)("strong",{parentName:"p"},"Microsoft网络服务器：暂停会话前所需的空闲时间数量")," 属性为15分钟。")),Object(r.b)("h4",{className:"__internal",id:"设置屏幕保护密码和开启时间"},"设置屏幕保护密码和开启时间",Object(r.b)("a",c({parentName:"h4"},{href:"#%E8%AE%BE%E7%BD%AE%E5%B1%8F%E5%B9%95%E4%BF%9D%E6%8A%A4%E5%AF%86%E7%A0%81%E5%92%8C%E5%BC%80%E5%90%AF%E6%97%B6%E9%97%B4","aria-hidden":!0,className:"anchor"}),"#")),Object(r.b)("p",null,"设置从屏幕保护恢复时需要输入密码，并将屏幕保护自动开启时间设定为五分钟。"),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"操作步骤")),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"启用屏幕保护程序，设置等待时间为 ",Object(r.b)("strong",{parentName:"p"},"5分钟"),"，并启用 ",Object(r.b)("strong",{parentName:"p"},"在恢复时使用密码保护"))),Object(r.b)("h2",{className:"__internal",id:"日志配置操作"},"日志配置操作",Object(r.b)("a",c({parentName:"h2"},{href:"#%E6%97%A5%E5%BF%97%E9%85%8D%E7%BD%AE%E6%93%8D%E4%BD%9C","aria-hidden":!0,className:"anchor"}),"#")),Object(r.b)("h3",{className:"__internal",id:"21-日志配置"},"2.1 日志配置",Object(r.b)("a",c({parentName:"h3"},{href:"#21-%E6%97%A5%E5%BF%97%E9%85%8D%E7%BD%AE","aria-hidden":!0,className:"anchor"}),"#")),Object(r.b)("h4",{className:"__internal",id:"审核登录"},"审核登录",Object(r.b)("a",c({parentName:"h4"},{href:"#%E5%AE%A1%E6%A0%B8%E7%99%BB%E5%BD%95","aria-hidden":!0,className:"anchor"}),"#")),Object(r.b)("p",null,"设备应配置日志功能，对用户登录进行记录。"),Object(r.b)("p",null,"记录内容包括用户登录使用的帐户、登录是否成功、登录时间、以及远程登录时、及用户使用的IP地址。"),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"操作步骤")),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"在 ",Object(r.b)("strong",{parentName:"p"},"本地策略")," > ",Object(r.b)("strong",{parentName:"p"},"审核策略")," 中，设置 ",Object(r.b)("strong",{parentName:"p"},"审核登录事件"),"。")),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"eventvwr.msc > 打开",Object(r.b)("strong",{parentName:"p"},"事件查看器")," > ",Object(r.b)("strong",{parentName:"p"},"windows日志")," > ",Object(r.b)("strong",{parentName:"p"},"安全")," > 即可查看用户的登录和注销以及账户名等信息 ")),Object(r.b)("h4",{className:"__internal",id:"审核策略"},"审核策略",Object(r.b)("a",c({parentName:"h4"},{href:"#%E5%AE%A1%E6%A0%B8%E7%AD%96%E7%95%A5","aria-hidden":!0,className:"anchor"}),"#")),Object(r.b)("p",null,"启用本地安全策略中对Windows系统的审核策略更改，成功和失败操作都需要审核。"),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"操作步骤")),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"在 ",Object(r.b)("strong",{parentName:"p"},"本地策略")," > ",Object(r.b)("strong",{parentName:"p"},"审核策略")," 中，设置 ",Object(r.b)("strong",{parentName:"p"},"审核策略更改"),"。")),Object(r.b)("h4",{className:"__internal",id:"审核对象访问"},"审核对象访问",Object(r.b)("a",c({parentName:"h4"},{href:"#%E5%AE%A1%E6%A0%B8%E5%AF%B9%E8%B1%A1%E8%AE%BF%E9%97%AE","aria-hidden":!0,className:"anchor"}),"#")),Object(r.b)("p",null,"启用本地安全策略中对Windows系统的审核对象访问，成功和失败操作都需要审核。"),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"操作步骤")),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"在 ",Object(r.b)("strong",{parentName:"p"},"本地策略")," > ",Object(r.b)("strong",{parentName:"p"},"审核策略")," 中，设置 ",Object(r.b)("strong",{parentName:"p"},"审核对象访问"),"。")),Object(r.b)("h4",{className:"__internal",id:"审核事件目录服务访问"},"审核事件目录服务访问",Object(r.b)("a",c({parentName:"h4"},{href:"#%E5%AE%A1%E6%A0%B8%E4%BA%8B%E4%BB%B6%E7%9B%AE%E5%BD%95%E6%9C%8D%E5%8A%A1%E8%AE%BF%E9%97%AE","aria-hidden":!0,className:"anchor"}),"#")),Object(r.b)("p",null,"启用本地安全策略中对Windows系统的审核目录服务访问，仅需要审核失败操作。"),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"操作步骤")),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"在 ",Object(r.b)("strong",{parentName:"p"},"本地策略")," > ",Object(r.b)("strong",{parentName:"p"},"审核策略")," 中，设置 ",Object(r.b)("strong",{parentName:"p"},"审核目录服务器访问"),"。")),Object(r.b)("h4",{className:"__internal",id:"审核特权使用"},"审核特权使用",Object(r.b)("a",c({parentName:"h4"},{href:"#%E5%AE%A1%E6%A0%B8%E7%89%B9%E6%9D%83%E4%BD%BF%E7%94%A8","aria-hidden":!0,className:"anchor"}),"#")),Object(r.b)("p",null,"启用本地安全策略中对Windows系统的审核特权使用，成功和失败操作都需要审核。"),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"操作步骤")),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"在 ",Object(r.b)("strong",{parentName:"p"},"本地策略")," > ",Object(r.b)("strong",{parentName:"p"},"审核策略")," 中，设置 ",Object(r.b)("strong",{parentName:"p"},"审核特权使用"),"。")),Object(r.b)("h4",{className:"__internal",id:"审核系统事件"},"审核系统事件",Object(r.b)("a",c({parentName:"h4"},{href:"#%E5%AE%A1%E6%A0%B8%E7%B3%BB%E7%BB%9F%E4%BA%8B%E4%BB%B6","aria-hidden":!0,className:"anchor"}),"#")),Object(r.b)("p",null,"启用本地安全策略中对Windows系统的审核系统事件，成功和失败操作都需要审核。"),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"操作步骤")),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"在 ",Object(r.b)("strong",{parentName:"p"},"本地策略")," > ",Object(r.b)("strong",{parentName:"p"},"审核策略")," 中，设置 ",Object(r.b)("strong",{parentName:"p"},"审核系统事件"),"。")),Object(r.b)("h4",{className:"__internal",id:"审核帐户管理"},"审核帐户管理",Object(r.b)("a",c({parentName:"h4"},{href:"#%E5%AE%A1%E6%A0%B8%E5%B8%90%E6%88%B7%E7%AE%A1%E7%90%86","aria-hidden":!0,className:"anchor"}),"#")),Object(r.b)("p",null,"启用本地安全策略中对Windows系统的审核帐户管理，成功和失败操作都要审核。"),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"操作步骤")),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"在 ",Object(r.b)("strong",{parentName:"p"},"本地策略")," > ",Object(r.b)("strong",{parentName:"p"},"审核策略")," 中，设置 ",Object(r.b)("strong",{parentName:"p"},"审核帐户管理"),"。")),Object(r.b)("h4",{className:"__internal",id:"审核过程追踪"},"审核过程追踪",Object(r.b)("a",c({parentName:"h4"},{href:"#%E5%AE%A1%E6%A0%B8%E8%BF%87%E7%A8%8B%E8%BF%BD%E8%B8%AA","aria-hidden":!0,className:"anchor"}),"#")),Object(r.b)("p",null,"启用本地安全策略中对Windows系统的审核进程追踪，仅失败操作需要审核。"),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"操作步骤")),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},Object(r.b)("strong",{parentName:"p"},"gpedit.msc 打开组策略"),"> ",Object(r.b)("strong",{parentName:"p"},"管理模板")," > ",Object(r.b)("strong",{parentName:"p"},"Windows组件")," > ",Object(r.b)("strong",{parentName:"p"},"远程桌面服务")," > ",Object(r.b)("strong",{parentName:"p"},"远程桌面会话主机")," > ",Object(r.b)("strong",{parentName:"p"},"连接")),Object(r.b)("p",{parentName:"blockquote"},"禁用 ",Object(r.b)("strong",{parentName:"p"},'" 将远程桌面服务用户限制到单独的远程桌面服务会话 "')," > 启用并设置  ",Object(r.b)("strong",{parentName:"p"},'"限制连接的数量"'))),Object(r.b)("h4",{className:"__internal",id:"日志文件大小"},"日志文件大小",Object(r.b)("a",c({parentName:"h4"},{href:"#%E6%97%A5%E5%BF%97%E6%96%87%E4%BB%B6%E5%A4%A7%E5%B0%8F","aria-hidden":!0,className:"anchor"}),"#")),Object(r.b)("p",null,"设置应用日志文件大小至少为 8192 KB，可根据磁盘空间配置日志文件大小，记录的日志越多越好。"),Object(r.b)("p",null,"并设置当达到最大的日志尺寸时，按需要轮询记录日志。"),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"操作步骤")),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},Object(r.b)("strong",{parentName:"p"},"eventvwr.msc"),"打开事件查看器，配置应用日志、系统日志、安全日志属性中的日志大小，以及设置当达到最大的日志尺寸时的相应策略。")),Object(r.b)("h2",{className:"__internal",id:"安全选项"},"安全选项",Object(r.b)("a",c({parentName:"h2"},{href:"#%E5%AE%89%E5%85%A8%E9%80%89%E9%A1%B9","aria-hidden":!0,className:"anchor"}),"#")),Object(r.b)("h3",{className:"__internal",id:"61-禁用未登录前关机"},"6.1 禁用未登录前关机",Object(r.b)("a",c({parentName:"h3"},{href:"#61-%E7%A6%81%E7%94%A8%E6%9C%AA%E7%99%BB%E5%BD%95%E5%89%8D%E5%85%B3%E6%9C%BA","aria-hidden":!0,className:"anchor"}),"#")),Object(r.b)("p",null,"服务器默认是禁止在未登录系统前关机的。"),Object(r.b)("p",null,"如果启用此设置，服务器安全性将会大大降低，给远程连接的黑客造成可乘之机，强烈建议禁用此功能。"),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"操作步骤")),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"在 ",Object(r.b)("strong",{parentName:"p"},"本地策略")," > ",Object(r.b)("strong",{parentName:"p"},"安全选项")," 中，禁用 ",Object(r.b)("strong",{parentName:"p"},"关机: 允许系统在未登录前关机")," 策略")),Object(r.b)("h3",{className:"__internal",id:"62-启用安全选项"},"6.2 启用安全选项",Object(r.b)("a",c({parentName:"h3"},{href:"#62-%E5%90%AF%E7%94%A8%E5%AE%89%E5%85%A8%E9%80%89%E9%A1%B9","aria-hidden":!0,className:"anchor"}),"#")),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"操作步骤")),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"在 ",Object(r.b)("strong",{parentName:"p"},"本地策略")," > ",Object(r.b)("strong",{parentName:"p"},"安全选项")," 中，进行如下设置：")),Object(r.b)("p",null,Object(r.b)("img",c({parentName:"p"},{src:"/images/wsecxx.png",alt:null}))),Object(r.b)("h3",{className:"__internal",id:"63其他安全配置"},"6.3其他安全配置",Object(r.b)("a",c({parentName:"h3"},{href:"#63%E5%85%B6%E4%BB%96%E5%AE%89%E5%85%A8%E9%85%8D%E7%BD%AE","aria-hidden":!0,className:"anchor"}),"#")),Object(r.b)("h4",{className:"__internal",id:"安装杀毒软件"},"安装杀毒软件",Object(r.b)("a",c({parentName:"h4"},{href:"#%E5%AE%89%E8%A3%85%E6%9D%80%E6%AF%92%E8%BD%AF%E4%BB%B6","aria-hidden":!0,className:"anchor"}),"#")),Object(r.b)("h4",{className:"__internal",id:"安装最新的补丁更新"},"安装最新的补丁更新",Object(r.b)("a",c({parentName:"h4"},{href:"#%E5%AE%89%E8%A3%85%E6%9C%80%E6%96%B0%E7%9A%84%E8%A1%A5%E4%B8%81%E6%9B%B4%E6%96%B0","aria-hidden":!0,className:"anchor"}),"#")),Object(r.b)("h4",{className:"__internal",id:"禁用不必要的服务"},"禁用不必要的服务",Object(r.b)("a",c({parentName:"h4"},{href:"#%E7%A6%81%E7%94%A8%E4%B8%8D%E5%BF%85%E8%A6%81%E7%9A%84%E6%9C%8D%E5%8A%A1","aria-hidden":!0,className:"anchor"}),"#")),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"禁用TCP/IP上的NetBIOS")),Object(r.b)("p",null,"禁用TCP/IP上的NetBIOS协议，可以关闭监听的 UDP 137（netbios-ns）、UDP 138（netbios-dgm）以及 TCP 139（netbios-ssn）端口。"),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"操作步骤")),Object(r.b)("blockquote",null,Object(r.b)("ol",{parentName:"blockquote"},Object(r.b)("li",c({parentName:"ol"},{className:"__internal"}),"在 ",Object(r.b)("strong",{parentName:"li"},"计算机管理")," > ",Object(r.b)("strong",{parentName:"li"},"服务和应用程序")," > ",Object(r.b)("strong",{parentName:"li"},"服务")," 中禁用 ",Object(r.b)("strong",{parentName:"li"},"TCP/IP NetBIOS Helper")," 服务。"),Object(r.b)("li",c({parentName:"ol"},{className:"__internal"}),"在网络连接属性中，双击 ",Object(r.b)("strong",{parentName:"li"},"Internet协议版本4（TCP/IPv4）"),"，单击 ",Object(r.b)("strong",{parentName:"li"},"高级"),"。",Object(r.b)("strong",{parentName:"li"},"禁用NetBIOS"),"和",Object(r.b)("strong",{parentName:"li"},"LMHOST查找")))),Object(r.b)("p",null,Object(r.b)("a",c({parentName:"p"},{href:"https://docs.microsoft.com/zh-cn/windows-server/storage/file-server/troubleshoot/detect-enable-and-disable-smbv1-v2-v3",target:"_blank"}),"如何在 Windows 中检测、启用和禁用 SMBv1、SMBv2 和 SMBv3")),Object(r.b)("h4",{className:"__internal",id:"关闭默认共享"},"关闭默认共享",Object(r.b)("a",c({parentName:"h4"},{href:"#%E5%85%B3%E9%97%AD%E9%BB%98%E8%AE%A4%E5%85%B1%E4%BA%AB","aria-hidden":!0,className:"anchor"}),"#")),Object(r.b)("p",null,"非域环境中，关闭Windows硬盘默认共享，例如C$，D$。"),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"操作步骤")),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"打开 ",Object(r.b)("strong",{parentName:"p"},"注册表编辑器"),"，根据推荐值修改注册表键值。"),Object(r.b)("p",{parentName:"blockquote"},Object(r.b)("strong",{parentName:"p"},"注意"),"： Windows Server 2012版本已默认关闭Windows硬盘默认共享，且没有该注册表键值。")),Object(r.b)("div",{className:"rcpress-highlight","data-language":"cmd"},Object(r.b)("pre",c({parentName:"div"},{className:"language-cmd"}),Object(r.b)("code",c({parentName:"pre"},{className:"language-cmd"}),"HKLM\\System\\CurrentControlSet\\Services\\LanmanServer\\Parameters\\AutoShareServer\n#推荐值： 0"))),Object(r.b)("h4",{className:"__internal",id:"共享文件夹授权访问"},"共享文件夹授权访问",Object(r.b)("a",c({parentName:"h4"},{href:"#%E5%85%B1%E4%BA%AB%E6%96%87%E4%BB%B6%E5%A4%B9%E6%8E%88%E6%9D%83%E8%AE%BF%E9%97%AE","aria-hidden":!0,className:"anchor"}),"#")),Object(r.b)("p",null,"每个共享文件夹的共享权限，只允许授权的帐户拥有共享此文件夹的权限。"),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"操作步骤")),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"每个共享文件夹的共享权限仅限于业务需要，不要设置成为 ",Object(r.b)("strong",{parentName:"p"},"Everyone"),"。"),Object(r.b)("p",{parentName:"blockquote"},"打开 ",Object(r.b)("strong",{parentName:"p"},"控制面板")," > ",Object(r.b)("strong",{parentName:"p"},"管理工具")," > ",Object(r.b)("strong",{parentName:"p"},"计算机管理"),"，在 ",Object(r.b)("strong",{parentName:"p"},"共享文件夹")," 中，查看每个共享文件夹的共享权限。")),Object(r.b)("h1",{className:"__internal",id:"文件系统安全"},"文件系统安全",Object(r.b)("a",c({parentName:"h1"},{href:"#%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F%E5%AE%89%E5%85%A8","aria-hidden":!0,className:"anchor"}),"#")),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"对于 NTFS 磁盘分区上的每一个文件和文件夹，NTFS 都存储一个远程访问控制列表（ACL，Access Control Lists）"),Object(r.b)("p",{parentName:"blockquote"},"ACL 中包含有那些被授权访问该文件或者文件夹的所有用户账号、组和计算机，还包含他们被授予的访问类型。")),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},Object(r.b)("strong",{parentName:"p"},"注意：")," FAT 是U盘上的主流文件系统 ")),Object(r.b)("h2",{className:"__internal",id:"ntfs-文件权限种类"},"NTFS 文件权限种类",Object(r.b)("a",c({parentName:"h2"},{href:"#ntfs-%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90%E7%A7%8D%E7%B1%BB","aria-hidden":!0,className:"anchor"}),"#")),Object(r.b)("h2",{className:"__internal",id:"ntfs-权限设置"},"NTFS 权限设置",Object(r.b)("a",c({parentName:"h2"},{href:"#ntfs-%E6%9D%83%E9%99%90%E8%AE%BE%E7%BD%AE","aria-hidden":!0,className:"anchor"}),"#")),Object(r.b)("h4",{className:"__internal",id:"通过-acl-控制列表，设置目录或者文件的用户访问权限"},Object(r.b)("strong",{parentName:"h4"},"通过 ACL 控制列表，设置目录或者文件的用户访问权限"),Object(r.b)("a",c({parentName:"h4"},{href:"#%E9%80%9A%E8%BF%87-acl-%E6%8E%A7%E5%88%B6%E5%88%97%E8%A1%A8%EF%BC%8C%E8%AE%BE%E7%BD%AE%E7%9B%AE%E5%BD%95%E6%88%96%E8%80%85%E6%96%87%E4%BB%B6%E7%9A%84%E7%94%A8%E6%88%B7%E8%AE%BF%E9%97%AE%E6%9D%83%E9%99%90","aria-hidden":!0,className:"anchor"}),"#")),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"Windows系统中的ACL(Access Control List)，用来表示用户（组）权限的列表。"),Object(r.b)("p",{parentName:"blockquote"},"在渗透测试中，理解并运用ACL，尤其在后门利用(提权)方面，可供发挥的空间很大。"),Object(r.b)("p",{parentName:"blockquote"},"而站在防御的角度，如果系统被攻破，找到并清除攻击者留下的ACL后门，同样需要对ACL有一定的了解。")),Object(r.b)("h4",{className:"__internal",id:"命令行下修改目录或者文件的访问权限的方法"},Object(r.b)("strong",{parentName:"h4"},"命令行下修改目录或者文件的访问权限的方法"),Object(r.b)("a",c({parentName:"h4"},{href:"#%E5%91%BD%E4%BB%A4%E8%A1%8C%E4%B8%8B%E4%BF%AE%E6%94%B9%E7%9B%AE%E5%BD%95%E6%88%96%E8%80%85%E6%96%87%E4%BB%B6%E7%9A%84%E8%AE%BF%E9%97%AE%E6%9D%83%E9%99%90%E7%9A%84%E6%96%B9%E6%B3%95","aria-hidden":!0,className:"anchor"}),"#")),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"一系列简单的权利：")),Object(r.b)("blockquote",null,Object(r.b)("ul",{parentName:"blockquote"},Object(r.b)("li",c({parentName:"ul"},{className:"__internal"}),Object(r.b)("strong",{parentName:"li"},"F"),"（完全访问）"),Object(r.b)("li",c({parentName:"ul"},{className:"__internal"}),Object(r.b)("strong",{parentName:"li"},"M"),"（修改访问权限）"),Object(r.b)("li",c({parentName:"ul"},{className:"__internal"}),Object(r.b)("strong",{parentName:"li"},"RX"),"（读取和执行访问）"),Object(r.b)("li",c({parentName:"ul"},{className:"__internal"}),Object(r.b)("strong",{parentName:"li"},"R"),"（只读访问）"),Object(r.b)("li",c({parentName:"ul"},{className:"__internal"}),Object(r.b)("strong",{parentName:"li"},"W"),"（只写访问）"))),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"继承权：")),Object(r.b)("blockquote",null,Object(r.b)("ul",{parentName:"blockquote"},Object(r.b)("li",c({parentName:"ul"},{className:"__internal"}),Object(r.b)("strong",{parentName:"li"},"（OI）"),"：对象继承"),Object(r.b)("li",c({parentName:"ul"},{className:"__internal"}),Object(r.b)("strong",{parentName:"li"},"（CI）"),"：容器继承"),Object(r.b)("li",c({parentName:"ul"},{className:"__internal"}),Object(r.b)("strong",{parentName:"li"},"（IO）"),"：仅继承"),Object(r.b)("li",c({parentName:"ul"},{className:"__internal"}),Object(r.b)("strong",{parentName:"li"},"（NP）"),"：不传播继承"),Object(r.b)("li",c({parentName:"ul"},{className:"__internal"}),Object(r.b)("strong",{parentName:"li"},"（I）"),"：从父容器继承的权限"))),Object(r.b)("h4",{className:"__internal",id:"查看指定文件的acl"},Object(r.b)("strong",{parentName:"h4"},"查看"),"指定文件的ACL",Object(r.b)("a",c({parentName:"h4"},{href:"#%E6%9F%A5%E7%9C%8B%E6%8C%87%E5%AE%9A%E6%96%87%E4%BB%B6%E7%9A%84acl","aria-hidden":!0,className:"anchor"}),"#")),Object(r.b)("div",{className:"rcpress-highlight","data-language":"bash"},Object(r.b)("pre",c({parentName:"div"},{className:"language-bash"}),Object(r.b)("code",c({parentName:"pre"},{className:"language-bash"}),"icacls test",Object(r.b)("span",c({parentName:"code"},{className:"token punctuation"}),"\\"),"test.txt"))),Object(r.b)("h4",{className:"__internal",id:"备份指定文件包括当前目录及其子目录中的文件的acl"},Object(r.b)("strong",{parentName:"h4"},"备份"),"指定文件(包括当前目录及其子目录中的文件)的ACL",Object(r.b)("a",c({parentName:"h4"},{href:"#%E5%A4%87%E4%BB%BD%E6%8C%87%E5%AE%9A%E6%96%87%E4%BB%B6%E5%8C%85%E6%8B%AC%E5%BD%93%E5%89%8D%E7%9B%AE%E5%BD%95%E5%8F%8A%E5%85%B6%E5%AD%90%E7%9B%AE%E5%BD%95%E4%B8%AD%E7%9A%84%E6%96%87%E4%BB%B6%E7%9A%84acl","aria-hidden":!0,className:"anchor"}),"#")),Object(r.b)("div",{className:"rcpress-highlight","data-language":"bash"},Object(r.b)("pre",c({parentName:"div"},{className:"language-bash"}),Object(r.b)("code",c({parentName:"pre"},{className:"language-bash"}),"icacls test",Object(r.b)("span",c({parentName:"code"},{className:"token punctuation"}),"\\"),"test.txt /save AclFile /t"))),Object(r.b)("h4",{className:"__internal",id:"还原指定文件包括当前目录及其子目录中的文件的acl"},Object(r.b)("strong",{parentName:"h4"},"还原"),"指定文件(包括当前目录及其子目录中的文件)的ACL",Object(r.b)("a",c({parentName:"h4"},{href:"#%E8%BF%98%E5%8E%9F%E6%8C%87%E5%AE%9A%E6%96%87%E4%BB%B6%E5%8C%85%E6%8B%AC%E5%BD%93%E5%89%8D%E7%9B%AE%E5%BD%95%E5%8F%8A%E5%85%B6%E5%AD%90%E7%9B%AE%E5%BD%95%E4%B8%AD%E7%9A%84%E6%96%87%E4%BB%B6%E7%9A%84acl","aria-hidden":!0,className:"anchor"}),"#")),Object(r.b)("div",{className:"rcpress-highlight","data-language":"bash"},Object(r.b)("pre",c({parentName:"div"},{className:"language-bash"}),Object(r.b)("code",c({parentName:"pre"},{className:"language-bash"}),"icacls test",Object(r.b)("span",c({parentName:"code"},{className:"token punctuation"}),"\\")," /restore AclFile /t\n",Object(r.b)("span",c({parentName:"code"},{className:"token comment"}),"#还原时，路径需要设置为上级目录")))),Object(r.b)("h4",{className:"__internal",id:"添加用户test1对指定文件包括当前目录及其子目录中的文件的完全访问权限"},Object(r.b)("strong",{parentName:"h4"},"添加"),"用户test1对指定文件(包括当前目录及其子目录中的文件)的完全访问权限",Object(r.b)("a",c({parentName:"h4"},{href:"#%E6%B7%BB%E5%8A%A0%E7%94%A8%E6%88%B7test1%E5%AF%B9%E6%8C%87%E5%AE%9A%E6%96%87%E4%BB%B6%E5%8C%85%E6%8B%AC%E5%BD%93%E5%89%8D%E7%9B%AE%E5%BD%95%E5%8F%8A%E5%85%B6%E5%AD%90%E7%9B%AE%E5%BD%95%E4%B8%AD%E7%9A%84%E6%96%87%E4%BB%B6%E7%9A%84%E5%AE%8C%E5%85%A8%E8%AE%BF%E9%97%AE%E6%9D%83%E9%99%90","aria-hidden":!0,className:"anchor"}),"#")),Object(r.b)("div",{className:"rcpress-highlight","data-language":"bash"},Object(r.b)("pre",c({parentName:"div"},{className:"language-bash"}),Object(r.b)("code",c({parentName:"pre"},{className:"language-bash"}),"icacls test",Object(r.b)("span",c({parentName:"code"},{className:"token punctuation"}),"\\"),"test.txt /grant test1:",Object(r.b)("span",c({parentName:"code"},{className:"token punctuation"}),"("),"OI",Object(r.b)("span",c({parentName:"code"},{className:"token punctuation"}),")"),Object(r.b)("span",c({parentName:"code"},{className:"token punctuation"}),"("),"CI",Object(r.b)("span",c({parentName:"code"},{className:"token punctuation"}),")"),Object(r.b)("span",c({parentName:"code"},{className:"token punctuation"}),"("),"F",Object(r.b)("span",c({parentName:"code"},{className:"token punctuation"}),")")," /t"))),Object(r.b)("h4",{className:"__internal",id:"移除用户test1对指定文件包括当前目录及其子目录中的文件的完全访问权限"},Object(r.b)("strong",{parentName:"h4"},"移除"),"用户test1对指定文件(包括当前目录及其子目录中的文件)的完全访问权限",Object(r.b)("a",c({parentName:"h4"},{href:"#%E7%A7%BB%E9%99%A4%E7%94%A8%E6%88%B7test1%E5%AF%B9%E6%8C%87%E5%AE%9A%E6%96%87%E4%BB%B6%E5%8C%85%E6%8B%AC%E5%BD%93%E5%89%8D%E7%9B%AE%E5%BD%95%E5%8F%8A%E5%85%B6%E5%AD%90%E7%9B%AE%E5%BD%95%E4%B8%AD%E7%9A%84%E6%96%87%E4%BB%B6%E7%9A%84%E5%AE%8C%E5%85%A8%E8%AE%BF%E9%97%AE%E6%9D%83%E9%99%90","aria-hidden":!0,className:"anchor"}),"#")),Object(r.b)("div",{className:"rcpress-highlight","data-language":"bash"},Object(r.b)("pre",c({parentName:"div"},{className:"language-bash"}),Object(r.b)("code",c({parentName:"pre"},{className:"language-bash"}),"icacls test",Object(r.b)("span",c({parentName:"code"},{className:"token punctuation"}),"\\"),"test.txt /remove test1 /t"))),Object(r.b)("p",null,Object(r.b)("a",c({parentName:"p"},{href:"https://3gstudent.github.io/3gstudent.github.io/%E6%B8%97%E9%80%8F%E6%8A%80%E5%B7%A7-Windows%E4%B8%8B%E7%9A%84Access-Control-List/",target:"_blank"}),"ACL在渗透测试中的利用")),Object(r.b)("h1",{className:"__internal",id:"windows日志审计"},"Windows日志审计",Object(r.b)("a",c({parentName:"h1"},{href:"#windows%E6%97%A5%E5%BF%97%E5%AE%A1%E8%AE%A1","aria-hidden":!0,className:"anchor"}),"#")),Object(r.b)("div",{className:"rcpress-highlight","data-language":"cmd"},Object(r.b)("pre",c({parentName:"div"},{className:"language-cmd"}),Object(r.b)("code",c({parentName:"pre"},{className:"language-cmd"}),"eventvwr.msc\t#打开日志查看器"))),Object(r.b)("h2",{className:"__internal",id:"日志分类"},"日志分类",Object(r.b)("a",c({parentName:"h2"},{href:"#%E6%97%A5%E5%BF%97%E5%88%86%E7%B1%BB","aria-hidden":!0,className:"anchor"}),"#")),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"系统日志")),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"记录操作系统组件产生的事件，主要包括驱动程序、系统组件和应用软件的崩溃以及数据丢失错误等。\n系统日志中记录的时间类型由Windows NT/2000操作系统预先定义。\n默认位置：",Object(r.b)("inlineCode",{parentName:"p"},"%SystemRoot%System32WinevtLogsSystem.evtx"))),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"应用程序日志")),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"包含由应用程序或系统程序记录的事件，主要记录程序运行方面的事件\n例如数据库程序可以在应用程序日志中记录文件错误，程序开发人员可以自行决定监视哪些事件。\n如果某个应用程序出现崩溃情况，那么我们可以从程序事件日志中找到相应的记录，也许会有助于你解决问题。\n默认位置：",Object(r.b)("inlineCode",{parentName:"p"},"%SystemRoot%System32WinevtLogsApplication.evtx"))),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"安全日志")),Object(r.b)("blockquote",null,Object(r.b)("p",{parentName:"blockquote"},"记录系统的安全审计事件，包含各种类型的登录日志、对象访问日志、进程追踪日志、特权使用、帐号管理、策略变更、系统事件。\n安全日志也是调查取证中最常用到的日志。\n默认设置下，安全性日志是关闭的，管理员可以使用组策略来启动安全性日志\n或者在注册表中设置审核策略，以便当安全性日志满后使系统停止响应。\n默认位置：",Object(r.b)("inlineCode",{parentName:"p"},"%SystemRoot%System32WinevtLogsSecurity.evtx"))),Object(r.b)("p",null,"系统和应用程序日志存储着故障排除信息，对于系统管理员更为有用。"),Object(r.b)("p",null,"安全日志记录着事件审计信息，包括用户验证（登录、远程访问等）和特定用户在认证后对系统做了什么，对于调查人员而言，更有帮助。"),Object(r.b)("h2",{className:"__internal",id:"事件日志分析"},"事件日志分析",Object(r.b)("a",c({parentName:"h2"},{href:"#%E4%BA%8B%E4%BB%B6%E6%97%A5%E5%BF%97%E5%88%86%E6%9E%90","aria-hidden":!0,className:"anchor"}),"#")),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"对于Windows事件日志分析，不同的EVENT ID代表了不同的意义")),Object(r.b)("table",null,Object(r.b)("thead",{parentName:"table"},Object(r.b)("tr",{parentName:"thead"},Object(r.b)("th",c({parentName:"tr"},{align:"left"}),"事件ID"),Object(r.b)("th",c({parentName:"tr"},{align:"left"}),"说明"))),Object(r.b)("tbody",{parentName:"table"},Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",c({parentName:"tr"},{align:"left"}),"4624"),Object(r.b)("td",c({parentName:"tr"},{align:"left"}),"登录成功")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",c({parentName:"tr"},{align:"left"}),"4625"),Object(r.b)("td",c({parentName:"tr"},{align:"left"}),"登录失败")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",c({parentName:"tr"},{align:"left"}),"4634"),Object(r.b)("td",c({parentName:"tr"},{align:"left"}),"注销成功")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",c({parentName:"tr"},{align:"left"}),"4647"),Object(r.b)("td",c({parentName:"tr"},{align:"left"}),"用户启动的注销")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",c({parentName:"tr"},{align:"left"}),"4672"),Object(r.b)("td",c({parentName:"tr"},{align:"left"}),"使用超级用户（如管理员）进行登录")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",c({parentName:"tr"},{align:"left"}),"4720"),Object(r.b)("td",c({parentName:"tr"},{align:"left"}),"创建用户")))),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"每个成功登录的事件都会标记一个登录类型，不同登录类型代表不同的方式：")),Object(r.b)("table",null,Object(r.b)("thead",{parentName:"table"},Object(r.b)("tr",{parentName:"thead"},Object(r.b)("th",c({parentName:"tr"},{align:"left"}),"登录类型"),Object(r.b)("th",c({parentName:"tr"},{align:"left"}),"描述"),Object(r.b)("th",c({parentName:"tr"},{align:"left"}),"说明"))),Object(r.b)("tbody",{parentName:"table"},Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",c({parentName:"tr"},{align:"left"}),"2"),Object(r.b)("td",c({parentName:"tr"},{align:"left"}),"c（Interactive）"),Object(r.b)("td",c({parentName:"tr"},{align:"left"}),"用户在本地进行登录。")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",c({parentName:"tr"},{align:"left"}),"3"),Object(r.b)("td",c({parentName:"tr"},{align:"left"}),"网络（Network）"),Object(r.b)("td",c({parentName:"tr"},{align:"left"}),"最常见的情况就是连接到共享文件夹或共享打印机时。")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",c({parentName:"tr"},{align:"left"}),"4"),Object(r.b)("td",c({parentName:"tr"},{align:"left"}),"批处理（Batch）"),Object(r.b)("td",c({parentName:"tr"},{align:"left"}),"通常表明某计划任务启动。")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",c({parentName:"tr"},{align:"left"}),"5"),Object(r.b)("td",c({parentName:"tr"},{align:"left"}),"服务（Service）"),Object(r.b)("td",c({parentName:"tr"},{align:"left"}),"每种服务都被配置在某个特定的用户账号下运行。")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",c({parentName:"tr"},{align:"left"}),"7"),Object(r.b)("td",c({parentName:"tr"},{align:"left"}),"解锁（Unlock）"),Object(r.b)("td",c({parentName:"tr"},{align:"left"}),"屏保解锁。")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",c({parentName:"tr"},{align:"left"}),"8"),Object(r.b)("td",c({parentName:"tr"},{align:"left"}),"网络明文（NetworkCleartext）"),Object(r.b)("td",c({parentName:"tr"},{align:"left"}),"登录的密码在网络上是通过明文传输的，如FTP。")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",c({parentName:"tr"},{align:"left"}),"9"),Object(r.b)("td",c({parentName:"tr"},{align:"left"}),"新凭证（NewCredentials）"),Object(r.b)("td",c({parentName:"tr"},{align:"left"}),"使用带/Netonly参数的RUNAS命令运行一个程序。")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",c({parentName:"tr"},{align:"left"}),"10"),Object(r.b)("td",c({parentName:"tr"},{align:"left"}),"远程交互，(RemoteInteractive）"),Object(r.b)("td",c({parentName:"tr"},{align:"left"}),"通过终端服务、远程桌面或远程协助访问计算机。")),Object(r.b)("tr",{parentName:"tbody"},Object(r.b)("td",c({parentName:"tr"},{align:"left"}),"11"),Object(r.b)("td",c({parentName:"tr"},{align:"left"}),"缓存交互（CachedInteractive）"),Object(r.b)("td",c({parentName:"tr"},{align:"left"}),"以一个域用户登录而又没有域控制器可")))),Object(r.b)("p",null,Object(r.b)("a",c({parentName:"p"},{href:"https://support.microsoft.com/zh-cn/help/977519/description-of-security-events-in-windows-7-and-in-windows-server-2008",target:"_blank"}),"更多事件ID说明")),Object(r.b)("p",null,Object(r.b)("a",c({parentName:"p"},{href:"https://dotblogs.com.tw/kinanson/2017/08/18/145528#1",target:"_blank"}),"使用日志分析工具")))}E.isMDXComponent=!0,E=Object(n.hot)(e)(E),(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(p.register(o,"makeShortcode","E:\\Code\\Project\\wgpsec\\WgpsecWiki\\docs\\knowledge\\hw\\windows-baselinesec.md"),p.register(m,"layoutProps","E:\\Code\\Project\\wgpsec\\WgpsecWiki\\docs\\knowledge\\hw\\windows-baselinesec.md"),p.register(O,"MDXLayout","E:\\Code\\Project\\wgpsec\\WgpsecWiki\\docs\\knowledge\\hw\\windows-baselinesec.md"),p.register(E,"MDXContent","E:\\Code\\Project\\wgpsec\\WgpsecWiki\\docs\\knowledge\\hw\\windows-baselinesec.md")),(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&s(e)}.call(this,a(23)(e))}}]);
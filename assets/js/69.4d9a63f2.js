(window.webpackJsonp=window.webpackJsonp||[]).push([[69],{787:function(t,e,a){"use strict";a.r(e);var l=a(103),s=Object(l.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"边界资产信息收集"}},[t._v("边界资产信息收集 "),a("a",{staticClass:"header-anchor",attrs:{href:"#边界资产信息收集"}},[t._v("#")])]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/hw/infoscan.png",alt:""}})]),t._v(" "),a("h1",{attrs:{id:"whois-聚合数据"}},[t._v("Whois 聚合数据 "),a("a",{staticClass:"header-anchor",attrs:{href:"#whois-聚合数据"}},[t._v("#")])]),t._v(" "),a("p",[t._v("微步在线：https://x.threatbook.cn/")]),t._v(" "),a("h1",{attrs:{id:"集团结构"}},[t._v("集团结构 "),a("a",{staticClass:"header-anchor",attrs:{href:"#集团结构"}},[t._v("#")])]),t._v(" "),a("p",[t._v("天眼查，网站备案看有哪些主域名，兄弟域名和关联域名")]),t._v(" "),a("p",[t._v("了解目标的组织架构，"),a("code",[t._v("股权穿透图")]),t._v("收集目标公司的子公司名称和联系邮箱")]),t._v(" "),a("h1",{attrs:{id:"子域名"}},[t._v("子域名 "),a("a",{staticClass:"header-anchor",attrs:{href:"#子域名"}},[t._v("#")])]),t._v(" "),a("p",[a("strong",[t._v("在线收集")])]),t._v(" "),a("p",[t._v("FOFA: "),a("code",[t._v('domain="baidu.com"')])]),t._v(" "),a("p",[t._v("Rapiddns： https://rapiddns.io/subdomain")]),t._v(" "),a("p",[a("strong",[t._v("OneForAll")])]),t._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("python3 oneforall.py --target baidu.com run\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("h1",{attrs:{id:"cdn绕过-ip资产收集"}},[t._v("CDN绕过（IP资产收集） "),a("a",{staticClass:"header-anchor",attrs:{href:"#cdn绕过-ip资产收集"}},[t._v("#")])]),t._v(" "),a("p",[a("strong",[t._v("确认CDN")])]),t._v(" "),a("p",[t._v("多地ping： https://tools.ipip.net/httphead.php")]),t._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("nslookup")]),t._v(" -qt"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("A xxx.com\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#带cache或者其它别名还有返回多IP的都是有CDN")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("p",[a("strong",[t._v("绕过CDN")])]),t._v(" "),a("p",[t._v("注册查看邮件原文")]),t._v(" "),a("p",[a("strong",[t._v("FOFA")]),t._v("："),a("code",[t._v('title="网站名称"')])]),t._v(" "),a("p",[t._v("通过"),a("code",[t._v("ping")]),t._v("查找到的子域名辅助查找真实IP")]),t._v(" "),a("h1",{attrs:{id:"c段-旁站"}},[t._v("C段/旁站 "),a("a",{staticClass:"header-anchor",attrs:{href:"#c段-旁站"}},[t._v("#")])]),t._v(" "),a("p",[t._v("FOFA直接搜（"),a("code",[t._v('ip="x.x.x.x/24"')]),t._v("）")]),t._v(" "),a("p",[a("strong",[t._v("旁站查询（IP反查域名）")])]),t._v(" "),a("p",[t._v("FOFA搜IP查域名："),a("code",[t._v('ip="x.x.x.x"')])]),t._v(" "),a("p",[t._v("https://site.ip138.com/")]),t._v(" "),a("p",[t._v("https://rapiddns.io/sameip")]),t._v(" "),a("p",[t._v("https://tools.ipip.net/ipdomain.php")]),t._v(" "),a("h1",{attrs:{id:"src-漏洞库"}},[t._v("SRC 漏洞库 "),a("a",{staticClass:"header-anchor",attrs:{href:"#src-漏洞库"}},[t._v("#")])]),t._v(" "),a("p",[t._v("拿到子域的一些资产可以查找已公开漏洞，例如搜索"),a("code",[t._v("深信服VPN")])]),t._v(" "),a("p",[t._v("乌云镜像：https://wooyun.x10sec.org/")]),t._v(" "),a("h1",{attrs:{id:"web指纹-网站架构"}},[t._v("Web指纹（网站架构） "),a("a",{staticClass:"header-anchor",attrs:{href:"#web指纹-网站架构"}},[t._v("#")])]),t._v(" "),a("blockquote",[a("p",[t._v("CMS框架、OS、脚本语言、中间件容器\t（使用的版本是否存在历史漏洞）")])]),t._v(" "),a("p",[t._v("相关工具：wappalyzer、Goby等")]),t._v(" "),a("h1",{attrs:{id:"网站后台-敏感信息"}},[t._v("网站后台/敏感信息 "),a("a",{staticClass:"header-anchor",attrs:{href:"#网站后台-敏感信息"}},[t._v("#")])]),t._v(" "),a("p",[t._v("网站通过Robots协议告诉搜索引擎哪些页面可以抓取，哪些页面不能抓取，可能存在一些敏感路径")]),t._v(" "),a("blockquote",[a("p",[t._v("备份文件、测试文件、Github泄露、SVN源码泄露")]),t._v(" "),a("p",[t._v("https://github.com/maurosoria/dirsearch")])]),t._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("python3 dirsearch.py -u "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("URL"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" -e *\n\n--http-proxy"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("localhost:1080\t\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("#使用代理（也可以在配置文件设置）")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("h1",{attrs:{id:"js敏感api接口"}},[t._v("JS敏感API接口 "),a("a",{staticClass:"header-anchor",attrs:{href:"#js敏感api接口"}},[t._v("#")])]),t._v(" "),a("p",[t._v("jsfinder（扫API和子域名）：https://github.com/Threezh1/JSFinder")]),t._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("python JSFinder.py -d -u http://www.mi.com\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("h1",{attrs:{id:"端口服务扫描"}},[t._v("端口服务扫描 "),a("a",{staticClass:"header-anchor",attrs:{href:"#端口服务扫描"}},[t._v("#")])]),t._v(" "),a("p",[t._v("对`常见高危端口进行扫描，探测Web服务端口")]),t._v(" "),a("p",[t._v("推荐工具御剑、Goby")]),t._v(" "),a("h2",{attrs:{id:"常见端口服务渗透"}},[t._v("常见端口服务渗透 "),a("a",{staticClass:"header-anchor",attrs:{href:"#常见端口服务渗透"}},[t._v("#")])]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("端口号")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("端口说明")]),t._v(" "),a("th",{staticStyle:{"text-align":"left"}},[t._v("渗透思路")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("21/69")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("FTP/TFTP：文件传输协议")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("爆破、内网嗅探")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("22")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("SSH：远程连接")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("用户名枚举、爆破")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("23")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Telnet：远程连接")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("爆破、内网嗅探")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("25")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("SMTP：邮件服务")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("邮件伪造")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("53")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("DNS：域名系统")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("DNS域传送\\DNS缓存投毒\\DNS欺骗\\利用DNS隧道技术刺透防火墙")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("389")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("LDAP")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("未授权访问（通过LdapBrowser工具直接连入）")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("443")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("https服务")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("OpenSSL 心脏滴血（nmap -sV --script=ssl-heartbleed 目标）")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("445")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("SMB服务")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("ms17_010远程代码执行")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("873")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("rsync服务")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("未授权访问")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("1090/1099")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Java-rmi")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("JAVA反序列化远程命令执行漏洞")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("1433")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("MSSQL")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("注入、SA弱口令爆破")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("1521")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Oracle")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("注入、TNS爆破")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("2049")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("NFS")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("配置不当")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("2181")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("ZooKeeper服务")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("未授权访问")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("3306")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("MySQL")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("注入、爆破、写shell、提权")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("3389")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("RDP")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("爆破、Shift后门、CVE-2019-0708远程代码执行")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("4848")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("GlassFish控制台")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("爆破：控制台弱口令、认证绕过")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("5632")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("PcAnywhere服务")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("爆破弱口令")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("5900")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("VNC")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("爆破：弱口令、认证绕过")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("6379")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Redis")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("未授权访问、爆破弱口令")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("7001")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("WebLogic中间件")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("反序列化、控制台弱口令+部署war包、SSRF")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("8000")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("jdwp")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("JDWP 远程命令执行漏洞（"),a("a",{attrs:{href:"https://github.com/IOActive/jdwp-shellifier",target:"_blank",rel:"noopener noreferrer"}},[t._v("工具"),a("OutboundLink")],1),t._v("）")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("8080/8089")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Tomcat/JBoss/Resin/Jetty/Jenkins")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("反序列化、控制台弱口令、未授权")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("8161")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("ActiveMQ")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("admin/admin、任意文件写入、反序列化")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("8069")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Zabbix")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("远程命令执行")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("9043")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("WebSphere控制台")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("控制台弱口令https://:9043/ibm/console/logon.jsp、远程代码执行")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("9200/9300")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Elasticsearch服务")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("远程代码执行")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("11211")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("Memcache")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("未授权访问")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("27017")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("MongoDB")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("未授权访问、爆破弱口令")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("50000")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("SAP")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("远程代码执行")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("50070")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("hadoop")]),t._v(" "),a("td",{staticStyle:{"text-align":"left"}},[t._v("未授权访问")])])])])])}),[],!1,null,null,null);e.default=s.exports}}]);